{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{useArticulosStore}from'../../store/articulosStore';import{useTotalesStore}from'../../store/totalesStore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Desgloce=function Desgloce(){//zustand js \nvar listaArticulos=useArticulosStore(function(state){return state.listaArticulos;});var _useTotalesStore=useTotalesStore(),setSubtotal=_useTotalesStore.setSubtotal,setImpuestosTotal=_useTotalesStore.setImpuestosTotal,setTotalGeneral=_useTotalesStore.setTotalGeneral;var _useTotalesStore2=useTotalesStore(),desctoExtra=_useTotalesStore2.desctoExtra;// Calcular subtotal como suma de precios\nvar calcularSubtotal=function calcularSubtotal(){var subtotal=listaArticulos.reduce(function(total,articulo){if(articulo.hasOwnProperty('TOTAL')){return total+parseFloat(articulo.TOTAL);}return total;},0);return subtotal;};var calcularImpuestosTotal=function calcularImpuestosTotal(){var impuestosTotal=listaArticulos.reduce(function(total,articulo){if(articulo.hasOwnProperty('IMPUESTOS')){return total+parseFloat(articulo.IMPUESTOS);}return total;},0);return impuestosTotal;};var subtotal=calcularSubtotal();var impuestosTotal=calcularImpuestosTotal();var total=parseFloat(subtotal+impuestosTotal).toFixed(2);var ImpteNeto=subtotal-desctoExtra;var IVAaplicado=parseFloat(ImpteNeto*0.16).toFixed(2);var TotalDocumento=parseFloat(ImpteNeto+ImpteNeto*0.16).toFixed(2);useEffect(function(){setSubtotal(parseFloat(ImpteNeto));setImpuestosTotal(parseFloat(IVAaplicado));setTotalGeneral(parseFloat(TotalDocumento));},[subtotal,impuestosTotal,setSubtotal,setImpuestosTotal,setTotalGeneral,total,IVAaplicado,ImpteNeto,TotalDocumento]);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 mx-3 bg-white rounded-lg shadow-lg p-4 w-1/4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600 text-sm font-light mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-right text-xl\",children:[\"$\",parseFloat(subtotal).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-left text-xl\",children:\"Descuento Extra($)\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-right text-xl\",children:[\"$\",isNaN(parseFloat(desctoExtra))?0:parseFloat(desctoExtra).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-left text-xl\",children:\"Impte Neto\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-right text-xl\",children:parseFloat(ImpteNeto).toFixed(2)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-left text-xl\",children:\"IVA 16%\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-right text-xl\",children:parseFloat(IVAaplicado).toFixed(2)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center font-bold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-left text-xl\",children:\"Total\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-right text-xl\",children:parseFloat(TotalDocumento).toFixed(2)})]})]})})});};export default Desgloce;","map":{"version":3,"names":["React","Fragment","useEffect","useArticulosStore","useTotalesStore","jsx","_jsx","jsxs","_jsxs","Desgloce","listaArticulos","state","_useTotalesStore","setSubtotal","setImpuestosTotal","setTotalGeneral","_useTotalesStore2","desctoExtra","calcularSubtotal","subtotal","reduce","total","articulo","hasOwnProperty","parseFloat","TOTAL","calcularImpuestosTotal","impuestosTotal","IMPUESTOS","toFixed","ImpteNeto","IVAaplicado","TotalDocumento","children","className","isNaN"],"sources":["C:/Users/Administrador/Documents/GitHub/IRCotizadorMsp_/react-cotizador/src/components/cotizaciones/Desgloce.jsx"],"sourcesContent":["import React, { Fragment, useEffect } from 'react';\r\nimport { useArticulosStore } from '../../store/articulosStore';\r\nimport { useTotalesStore } from '../../store/totalesStore';\r\n\r\nconst Desgloce = () => {\r\n  //zustand js \r\n  const listaArticulos = useArticulosStore((state) => state.listaArticulos);\r\n  const { setSubtotal, setImpuestosTotal, setTotalGeneral } = useTotalesStore();\r\n  const { desctoExtra } = useTotalesStore();\r\n\r\n  // Calcular subtotal como suma de precios\r\n  const calcularSubtotal = () => {\r\n\r\n    const subtotal = listaArticulos.reduce((total, articulo) => {\r\n      if (articulo.hasOwnProperty('TOTAL')) {\r\n        return total + (parseFloat(articulo.TOTAL));\r\n      }\r\n      return total;\r\n    }, 0);\r\n\r\n    return subtotal;\r\n  };\r\n\r\n  const calcularImpuestosTotal = () => {\r\n    const impuestosTotal = listaArticulos.reduce((total, articulo) => {\r\n      if (articulo.hasOwnProperty('IMPUESTOS')) {\r\n        return total + parseFloat(articulo.IMPUESTOS);\r\n      }\r\n      return total;\r\n    }, 0);\r\n\r\n    return impuestosTotal;\r\n  };\r\n\r\n  const subtotal = calcularSubtotal();\r\n  const impuestosTotal = calcularImpuestosTotal();\r\n  const total = parseFloat(subtotal + impuestosTotal).toFixed(2);\r\n  const ImpteNeto = subtotal - desctoExtra; \r\n  const IVAaplicado = parseFloat(ImpteNeto * 0.16).toFixed(2);\r\n  const TotalDocumento = parseFloat(ImpteNeto + (ImpteNeto*0.16)).toFixed(2);\r\n\r\n  useEffect(() => {\r\n    setSubtotal(parseFloat(ImpteNeto));\r\n    setImpuestosTotal(parseFloat(IVAaplicado));\r\n    setTotalGeneral(parseFloat(TotalDocumento)); \r\n  }, [subtotal, impuestosTotal, setSubtotal, setImpuestosTotal, setTotalGeneral, total, IVAaplicado, ImpteNeto, TotalDocumento]);\r\n\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"mt-1 mx-3 bg-white rounded-lg shadow-lg p-4 w-1/4\">\r\n        <div className=\"text-gray-600 text-sm font-light mb-4\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <span className=\"text-xl\">Subtotal</span>\r\n            <span className=\"text-right text-xl\">${parseFloat(subtotal).toFixed(2)}</span>\r\n          </div>\r\n          <div className=\"flex justify-between items-center\">\r\n            <span className=\"text-left text-xl\">Descuento Extra($)</span>\r\n            <span className=\"text-right text-xl\">\r\n            ${isNaN(parseFloat(desctoExtra)) ? 0 : parseFloat(desctoExtra).toFixed(2)}\r\n            </span>\r\n          </div>\r\n          <div className=\"flex justify-between items-center\">\r\n            <span className=\"text-left text-xl\">Impte Neto</span>\r\n            <span className=\"text-right text-xl\">\r\n            {parseFloat(ImpteNeto).toFixed(2)} \r\n            </span>\r\n          </div>\r\n          <div className=\"flex justify-between items-center\">\r\n            <span className=\"text-left text-xl\">IVA 16%</span>\r\n            <span className=\"text-right text-xl\">\r\n            {parseFloat(IVAaplicado).toFixed(2)} \r\n            </span>\r\n          </div>\r\n          <div className=\"flex justify-between items-center font-bold\">\r\n            <span className=\"text-left text-xl\">Total</span>\r\n            <span className=\"text-right text-xl\">\r\n            {parseFloat(TotalDocumento).toFixed(2)} \r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\n\r\nexport default Desgloce;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}